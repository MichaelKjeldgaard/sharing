Denne version udgør synopsis for det videre arbejde med en
referencearkitektur. Formålet er at konkretisere et muligt indhold med
henblik på udpegning af interessenter samt at afgrænse opgaven i forhold
til øvrige aktiviteter. Synopsis vil, på kortest mulige form, give et
overblik over strukturen og indholdet af den endelige arkitektur.
Synopsen er ikke et gennemarbejdet bud på den endelige løsning, men skal
udtale sig om retning og afprøve rammerne for det videre arbejde.

\section{Introduktion}\label{introduktion}

\subsection{Formål}\label{formuxe5l}

Referencearkitekturen understøtter anvendelse og udviklingen af
offentlige it-systemer, der

\begin{itemize}
\tightlist
\item
  (gen)anvender oplysninger i form af data og dokumenter til
  sagsbehandling eller selvbetjening
\item
  sender eller modtager meddelelser fra andre it-systemer
\end{itemize}

\subsection{Scope}\label{scope}

Referencearkitekturen beskriver anvendelse af og udvikling af
it-systemer, der reguleres af blandt andet:

\begin{description}
\tightlist
\item[EU databeskyttelse]
\emph{lov} som beskriver pligter og rettigheder ved behandling af
persondata
\item[EU eIDAS]
\emph{lov} som definerer registrede tillidstjenester
\item[Persondata lov]
\emph{lov} som beskriver pligter og rettigheder ved behandling af
persondata
\item[Lov om Digital Post]
\emph{lov} der gør det obligatorisk for virksomheder og borgere at
modtage digitale meddelelser fra offentlige afsendere.
\end{description}

Referencearkitekturen skrives på baggrund af den fællesoffentlige
digitaliseringsstrategi 2020 under initiativ 8.1 med tilslutning fra FM,
UFM, EVM, SIM, JM, EFKM, MBUL, SÆM, SKM, MFVM, BM, KL og Danske
Regioner. Heri beskrives referencearkitekturen således:

\begin{quote}
For at operationalisere, hvilke krav hvidbogen konkret stiller til
initiativer og systemer udarbejdes en referencearkitektur for deling af
data og dokumenter, der blandt andet beskriver fælles behovsmønstre og
mønstre for teknisk understøttelse, herunder de forskelige roller, der
skal afklares i initiativerne. Referencearkitekturen udpeger også
eventuelle områder for eksisterende og nye fælles standarder og
infrastruktur, som skal lette initiativernes implementering.
Referencearkitekturen bliver således en generel ramme og støtte for alle
initiativernes egen specifikke arkitektur.
\end{quote}

Uden for scope:

\begin{itemize}
\tightlist
\item
  åbne data, der ikke kræver adgangskontrol
\item
  registrering og anvendelse af data hos registerejer
\end{itemize}

\subsection{Centrale begreber}\label{centrale-begreber}

I det efterfølgende vil begrebet data blive brugt til at betegne både
oplysninger på dokumentform og oplysninger der optræder i registre. Vi
anvender begrebet datasamling både om et register og et repository med
dokumenter.

\begin{figure}
\centering
\includegraphics{abstraktion.pdf}
\caption{Anvendelse af begrebet data og relaterede begreber i denne
referencearkitektur}
\end{figure}

\subsection{Anvendelse}\label{anvendelse}

Referencearkitekturen skal:

\begin{itemize}
\tightlist
\item
  danne et fælles sprog til at formulere en fælles handlingsplan
\item
  bruges som reference ved løsningsbeskrivelser
\end{itemize}

\subsection{Tilblivelse og governance}\label{tilblivelse-og-governance}

Første udgave er skrevet hos Kontor for Data og Arkitektur af Mads
Hjorth, Digitaliseringsstyrelsen og Anders Fausbøll, Omnium Improvement.

Endelig godkendelse forventes hos Styregruppe for Data og Arkitektur
under Digitaliseringsstrategien 18. december 2017.

\subsection{Metoderamme}\label{metoderamme}

Skrives inden for rammerne af Fællesoffentlige Digital Arkitektur, det
vil sige; erfaringer fra OIO referencearkitektur, EIRA, TOGAF,
ArchiMate.

\subsection{Relation til andre
referencearkitekturer}\label{relation-til-andre-referencearkitekturer}

Gør brug af

\begin{itemize}
\tightlist
\item
  Fællesoffentlig referencearkitektur for brugerstyring
\end{itemize}

Skal kunne anvendes af:

\begin{itemize}
\tightlist
\item
  Fællesoffentlig referencearkitektur for selvbetjening
\item
  Fællesoffentlig referencearkitektur for overblik over egne sager og
  ydelser
\end{itemize}

Skal anvendes i kontekst sammen med:

\begin{itemize}
\tightlist
\item
  Deling af dokumenter på sundhedsområdet
\item
  Indberetning til registre på sundhedsområdet
\item
  Sag- og dokument på det kommunale område
\end{itemize}

\section{Strategi}\label{strategi}

Udarbejdelsen af referencearkitekturen tager udgangspunkt i en række
identificerede forretningsmæssige og teknologiske trends og tendenser.

\subsection{Forretningsmæssige
tendenser}\label{forretningsmuxe6ssige-tendenser}

\begin{itemize}
\tightlist
\item
  Ensretning og nationale indsatser
\item
  Data har øget værdi for organisationer
\item
  Øget bevågenhed omkring beskyttelse af privatliv
\item
  Øget opmærksomhed om håndtering af personlige oplysninger
\item
  Mængden af oplysninger der håndteres stiger
\item
  Grænseoverskridende services
\end{itemize}

\subsection{Teknologiske tendenser}\label{teknologiske-tendenser}

\begin{itemize}
\tightlist
\item
  øget central standardisering af begreber, datamodeller og grænseflader
\item
  Flere og mere forskelligartede enheder forbundet til netværket
\item
  Øgede forventninger til brugervenlighed af offentlige digitale
  services
\item
  Mængden af tilgængelige oplysninger vokser
\item
  Arkitekturvision for anvendelse og udstilling
\item
  Integrated Service Delivery
\item
  ''Interoperability/Samarbejdende infrastrukturer / Økosystem af fælles
  løsninger?''
\item
  ''Valgfrihed for anvender mellem flere tekniske udbydere af samme
  oplysninger''
\end{itemize}

\subsection{Strategiske målsætning}\label{strategiske-muxe5lsuxe6tning}

{[}beskriv målsætninger i eksisterende aftaler og strategier, også gerne
fra andre områder{]}

\begin{description}
\tightlist
\item[Interoperability]
\emph{mål} om sammenhængende services\ldots{} integrated service
delivery
\item[Once-only]
\emph{mål} om at borger og virksomhed kun skal afgive den samme
information til det offentlige en gang\ldots{} (men give lov til
genbrug?)
\item[Transperancy]
\emph{mål} om at borgere og virksomheder skal kunne se, hvilke data der
findes om dem, og hvor disse data anvendes
\item[Re-use]
\emph{mål} om genbrug af it med henblik på lavere omkostninger
\end{description}

\subsection{Vision}\label{vision}

{[}fokus på første workshop{]}

\begin{quote}
\emph{Data skal være nemmere at bruge og sværere at misbruge}
\end{quote}

\begin{quote}
\emph{Byrden i datadeling skal afløftes fra dataejeren, hvis den
begrænser genbrug}
\end{quote}

\begin{quote}
\emph{Ensartet datadeling skal understøtte sammenstilling af data og
tværgående brug}
\end{quote}

\begin{quote}
\emph{Klar governance omkring beskrivelse af, adgang til og brug af
data.}
\end{quote}

\subsection{Værdiskabelse}\label{vuxe6rdiskabelse}

\begin{itemize}
\tightlist
\item
  Mindre besvær for borger og virksomheder ved brug af digitale services
\item
  Simplere arbejdsgange og mere potentiale for automatisering hos
  myndigheder {[}og virksomheder{]}
\item
  Understøtte transparens og bevare tillid til registre
\item
  Effektiv systemudvikling (begrænse udfaldsrum, opsamle best practice)
\end{itemize}

\subsection{Strategiske principper}\label{strategiske-principper}

Forretningsmæssige, Informationsmæssige, Applikationsmæssige og Tekniske
principper bag referencearkitekturen:

\begin{itemize}
\tightlist
\item
  F1: Autoritative register med henvisninger til andre registre
\item
  F2: Ansvar for begrænsning af adgang ligger hos registerejer
\item
  I1: Fælles referenceinformationsmodel
\item
  I2: Dokument-princip (attester mv.)?
\item
  A1: Onlineopslag i sagsbehandling og selvbetjening
\item
  A2: Log adgang
\item
  A3: Adgang til og fra internationale registre sker gennem national
  gateway
\item
  T1: Central fuldmagts-/rettighedsstyring
\item
  T2: Multi-flavour-api
\end{itemize}

\section{Forretning}\label{forretning}

\subsection{Aktører}\label{aktuxf8rer}

\begin{itemize}
\tightlist
\item
  Offentlig myndigheder, og virksomheder der handler på vegne af dem.
\item
  Borger og virksomheder
\end{itemize}

\subsection{Opgaver}\label{opgaver}

Referencearkitekturen finder anvendelse i løsningen af alle offentlige
opgaver.

\begin{itemize}
\tightlist
\item
  Borger og virksomhedsvendte selvbetjeningsløsninger
\item
  Myndigheders sagsbehandling
\item
  Tværgående analyse, tilsyn, kontrol
\end{itemize}

\subsection{Funktioner}\label{funktioner}

Referencearkitekturen beskriver tre centrale use cases, hvor aktører
arbejder sammen i forskellige roller

\begin{figure}
\centering
\includegraphics{usecases.pdf}
\caption{Tværgående use cases og funktioner hos de enkelte roller}
\end{figure}

\begin{description}
\tightlist
\item[Registrering]
\emph{collaboration} hvor oplysninger bringes på digital form
\item[Datanvendelse]
\emph{collaboration} hvor oplysninger anvendes i en opgave
\item[Registreret forsendelse]
\emph{collaboration} hvor meddelelser sendes uafviseligt
\end{description}

\subsection{Roller}\label{roller}

\begin{description}
\tightlist
\item[Registrant]
\emph{rolle} som bringer oplysninger på digital form, registrer
\item[Datasubject]
\emph{rolle} som oplysninger handler
\item[Dataanvender]
\emph{rolle} der anvender oplysninger fra et register
\item[Dataejer]
\emph{rolle} som ejer registreringer/data, ansvar for at udarbejde
adgangspolitik
\item[Datadistributør]
\emph{rolle} som ejer registreringer/data, ansvar for at udarbejde
adgangspolitik
\item[Messaging User]
\emph{rolle} som der sender og modtager meddelelser
\item[Messaging Provider]
\emph{rolle} som leverer services til forsendelse
\end{description}

Nogle kan betragtes som specialiseringer af GDPR-rollen Databehandler.

\subsection{Tværgående processer}\label{tvuxe6rguxe5ende-processer}

Herunder beskrives hvor de enkelte business functions hos de enkelte
roller anvendes i kontekst af nogle generiske procesmønstre.

\begin{itemize}
\tightlist
\item
  Sagsbehandling (fra Sag og dokument):
\item
  Simpel selvbetjening (fra Selvbetjening):
\item
  Tværgående selvbetjening (fra Sammenhængende services):
\item
  Indsigt i oplysninger og deres anvendelse (fra Overblik over sag og
  ydelser)
\item
  Sende meddelelse (inkl. brug af tilmeldingslister og påmindelser)
\item
  Modtage meddelelse
\item
  Tag et dokument med til en anden service provider (der ikke har adgang
  til registre) Beskrive hvordan dokumenter valideres.
\end{itemize}

\subsection{Forretnings-tjenester?
-funktioner?}\label{forretnings-tjenester--funktioner}

Procestrin udtrykkes typisk ved Forretningstjenester, der igen kan
realiseres af interne business functions eller trække på eksterne
business services. \href{x}{TODO}: x ``Skal vi bare slå services og
functions sammen (da vi ikke taler om implementering endnu)''

\subsection{Forretningsobjekter}\label{forretningsobjekter}

Nedenfor fremgår en initiel oversigt over en række forretningsobjekter,
der er væsentlige for referencearkitekturen. Det videre arbejde skal
klarlægge, hvilke elementer der skal indgå i listen samt hvordan de
defineres. Modelleringsniveauet skal endvidere lægges fast
(bregrebsmodellering og/eller logiske kernemodeller?)
Kommentarer/regibemærkninger indgår i listen, markeret med kantede
parenteser.

\begin{figure}
\centering
\includegraphics{objekter.pdf}
\caption{Oversigt over de centrale forretningsobjekter og deres
relationer}
\end{figure}

\begin{description}
\tightlist
\item[Data]
\emph{objekt} (Abstrakt\ldots{}bruges om både registerrecord og
dokument)
\item[Registeroplysning]
\emph{objekt} en record
\item[Dokument]
\emph{objekt} {[}Dokumentmodel fra OIO{]}
\item[Datasamling]
\emph{objekt} {[}Datasætmodel{]}
\item[Datasubjekt]
\emph{objekt} {[}Grunddata, fx person{]}
\item[Model/Schema]
\emph{objekt} {[}Jf. Modelregler fra FDA{]}
\item[Meddelelse]
\emph{objekt} {[}Næste generation Digital Post{]}
\item[Påmindelse]
\emph{objekt} {[}Næste generation Digital Post{]}
\item[Registreringshændelse]
\emph{objekt} {[}Datafordeler{]}
\end{description}

\section{Teknik}\label{teknik}

Forretningsfunktionerne understøttes/realiseres af applikationer.

\subsection{Applikationsroller}\label{applikationsroller}

\begin{description}
\tightlist
\item[eDelivery Service Provider]
\emph{applikationsservice} som skal kunne:
\end{description}

\begin{itemize}
\tightlist
\item
  udstille eller levere meddelelser til modtager
\item
  modtage og distribuere meddeleleser
\item
  fortælle andre om deres kunder
\end{itemize}

\begin{description}
\tightlist
\item[Dataservice]
\emph{applikationsservice} som skal kunne:
\end{description}

\begin{itemize}
\tightlist
\item
  opbevare datasamling
\item
  begrænse adgang til de rigtige
\item
  (måske) vedligeholde og udsende abonnementer
\end{itemize}

\begin{description}
\tightlist
\item[Kontaktregister]
\emph{applikationsservice} som er en slags data service med en særlig
type oplysninger
\item[Log]
\emph{applikationsservice} som er en slags data service med særlige
oplysninger
\item[Indeks]
\emph{applikationsservice} som er en slags data service med særlige
oplysninger. Kan undværes, men på kraftig bekostning af effektivitet i
bestemte situationer.
\item[Katalog]
\emph{applikationsservice} som ikke er en dataservice, fordi der ikke er
begrænset adgang. Kan undværes, men ikke effektivt.
\end{description}

\subsection{Tekniske
Implementering(er)}\label{tekniske-implementeringer}

Her grupperes de enkelte roller og applikationsroller jf forskellige
mønstre.

\emph{Datanvendelse}

Når myndighed vil have adgang til data hos en anden myndighed, er der et
par relevante mønstre:

\begin{description}
\tightlist
\item[Direkte adgang, SOA]
\emph{implementationsmønster}
\item[Datadistribution]
\emph{implementationsmønster} sammenstilling samt adgangskontrol og
logning
\item[Distribueret Service- og data-platform]
\emph{implementationsmønster}
\end{description}

\emph{Registreret forsendelse}

Når en myndighed vil sende noget til en myndighed, virksomhed eller
borger.

\begin{description}
\tightlist
\item[SOA / Email]
\emph{implementationsmønster}
\item[Fælles system]
\emph{implementationsmønster} e.g.~e-Boks.
\item[Service Providers]
\emph{implementationsmønster} kan være både generisk eller specifikt for
et domæne.
\end{description}

\emph{Registrering} Registrering af data er ikke i scope for denne
referencearkitektur, men medtages kort pga. sin væsentlige relation til
Index-konceptet.

\begin{description}
\tightlist
\item[ansvar hos registrant]
\emph{implementationsmønster}
\item[ansvar hos dataejer]
\emph{implementationsmønster}
\item[ansvar hos distributør?]
\emph{implementationsmønster}
\end{description}

\subsection{Områder for
standardisering/profileringer}\label{omruxe5der-for-standardiseringprofileringer}

Nedenstående, tekniske områder er kandidater til at indgå i
referencearkitekturen i forhold til at pege på en anbefalet standard
eller en særlig profilering, evt. vendt mod de enkelte, tekniske
mønstre.

\begin{itemize}
\item
  Service Design Guidelines
\item
  Access Protocols
\item
  Distribution Protocols
\item
  Synchronisation Protocols
\item
  Metadata for opslag/søgning/anvendelse
\item
  Log format
\item
  Identifikation
\item
  Klassifikation af følsomhed
\item
  Klassifikation af anvendelse (sagsbehandling vs analyse)
\item
  Hændelsesbeskeder
\item
  Protokol for flytning af filer, kryptering
\item
  Hjemmel (samtykke, lov)
\item
  Context
\end{itemize}

\subsection{Identifikation af eksisterende
standarder}\label{identifikation-af-eksisterende-standarder}
